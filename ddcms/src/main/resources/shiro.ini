#定义拦截器
[filters]
myFilter=com.daimengshi.ddcms.pub.shiro.filter.PermissionsAuthorizationFilter

#定义拦截的URL
[urls]
/admin/login/test=myFilter[admin]
[main]
#自定义realm
userRealm = com.daimengshi.ddcms.pub.shiro.realm.UserRealm

credentialsMatcher=com.daimengshi.ddcms.pub.shiro.credentials.RetryLimitHashedCredentialsMatcher
credentialsMatcher.hashAlgorithmName=md5
credentialsMatcher.hashIterations=2
credentialsMatcher.storedCredentialsHexEncoded=true
userRealm.credentialsMatcher=$credentialsMatcher

##########################################缓存配置说明####################################################
###userRealm.cachingEnabled：启用缓存，默认false；
###userRealm.authenticationCachingEnabled：启用身份验证缓存，即缓存AuthenticationInfo信息，默认false；
###userRealm.authenticationCacheName：缓存AuthenticationInfo信息的缓存名称；
###userRealm. authorizationCachingEnabled：启用授权缓存，即缓存AuthorizationInfo信息，默认false；
###userRealm. authorizationCacheName：缓存AuthorizationInfo信息的缓存名称；
###cacheManager：缓存管理器，此处使用EhCacheManager，即Ehcache实现，需要导入相应的Ehcache依赖，请参考pom.xml；
########################################## 配置缓存 ######################################################
userRealm.cachingEnabled=true
userRealm.authenticationCachingEnabled=true
userRealm.authenticationCacheName=authenticationCache
userRealm.authorizationCachingEnabled=true
userRealm.authorizationCacheName=authorizationCache
#########################################################################################################

#将realm设置到securityManager，相当于Spring中的注入
securityManager.realms = $userRealm


#缓存管理器，此处使用EhCacheManager，即Ehcache实现，需要导入相应的Ehcache依赖，请参考pom.xml
cacheManager=org.apache.shiro.cache.ehcache.EhCacheManager
cacheManager.cacheManagerConfigFile=classpath:shiro-ehcache.xml
securityManager.cacheManager=$cacheManager


sessionManager=org.apache.shiro.session.mgt.DefaultSessionManager
sessionDAO=com.daimengshi.ddcms.pub.shiro.session.ShiroSessionDAO
sessionDAO.activeSessionsCacheName=shiro-activeSessionCache
securityManager.sessionManager=$sessionManager
sessionManager.sessionDAO=$sessionDAO



##########################################会话配置说明####################################################
###sessionValidationScheduler：会话验证调度器，sessionManager默认就是使用ExecutorServiceSessionValidationScheduler；
###sessionValidationScheduler.interval：设置调度时间间隔，单位毫秒，默认就是1小时；
###sessionValidationScheduler.sessionManager：设置会话验证调度器进行会话验证时的会话管理器；
###sessionManager.globalSessionTimeout：设置全局会话超时时间，默认30分钟，即如果30分钟内没有访问会话将过期；
###sessionManager.sessionValidationSchedulerEnabled：是否开启会话验证器，默认是开启的；
###sessionManager.sessionValidationScheduler：设置会话验证调度器，默认就是使用ExecutorServiceSessionValidationScheduler。
########################################## 配置会话 ######################################################
sessionValidationScheduler=org.apache.shiro.session.mgt.ExecutorServiceSessionValidationScheduler
sessionValidationScheduler.interval = 3600000
sessionValidationScheduler.sessionManager=$sessionManager
sessionManager.globalSessionTimeout=1800000
sessionManager.sessionValidationSchedulerEnabled=true
sessionManager.sessionValidationScheduler=$sessionValidationScheduler
#########################################################################################################